.retro-grid {
  pointer-events: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  perspective: 300px;
  opacity: var(--opacity);
  z-index: 0;
}

.grid-perspective {
  position: absolute;
  inset: 0;
  transform: rotateX(var(--grid-angle));
  transform-style: preserve-3d;
}

.grid-lines {
  background-image: 
    linear-gradient(to right, var(--light-line) 1px, transparent 1px),
    linear-gradient(to bottom, var(--light-line) 1px, transparent 1px);
  background-repeat: repeat;
  background-size: var(--cell-size) var(--cell-size);
  height: 300vh;
  position: absolute;
  inset: 0;
  margin-left: -100%;
  transform-origin: 100% 0 0;
  width: 300vw;
  animation: grid-move 30s linear infinite;
}

.grid-fade {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, var(--bg-color) 0%, rgba(var(--bg-color-rgb), 0.4) 50%, transparent 100%);
}

@media (prefers-color-scheme: dark) {
  .grid-lines {
    background-image: 
      linear-gradient(to right, var(--dark-line) 1px, transparent 1px),
      linear-gradient(to bottom, var(--dark-line) 1px, transparent 1px);
  }
}

@keyframes grid-move {
  0% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(var(--cell-size));
  }
} 